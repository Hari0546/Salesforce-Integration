httpReq.setHeader('content-type', 'application/json');
 httpReq.setHeader('Accept', 'application/json');
‚úÖ What these headers mean
1Ô∏è‚É£ content-type: application/json
This header tells the server:
"If I send any request body, it will be in JSON format."
Example:
If you send data with POST, PATCH, or PUT, this header is required.
But in a GET request, you usually don‚Äôt send a body ‚Äî so this header is not required, but it also doesn‚Äôt hurt.
2Ô∏è‚É£ Accept: application/json
This header tells the server:
"I want the response from you in JSON format."
This is important because APIs can return data in different formats:
‚Ä¢	JSON
‚Ä¢	XML
‚Ä¢	HTML/plain text
‚Ä¢	CSV
etc.
So by sending "Accept": "application/json" you are asking the API:
"Please give me JSON so I can read it easily."

‚úÖ What this class does
CurrencyAPIService.getCurrencyRates() makes an HTTP GET callout to a public API:
https://open.er-api.com/v6/latest/USD
This API returns latest currency exchange rates based on USD.
________________________________________
üí° Step-by-Step Breakdown
________________________________________
‚≠ê 1. Create an HTTP Request
HttpRequest httpReq = new HttpRequest();
This creates a new request that Salesforce will send to an external service.
________________________________________
‚≠ê 2. Set the endpoint URL
httpReq.setEndpoint('https://open.er-api.com/v6/latest/USD');
This is the URL you want to call.
It gives exchange rates with USD as base currency.
________________________________________
‚≠ê 3. Set Request Headers
httpReq.setHeader('content-type', 'application/json');
httpReq.setHeader('Accept', 'application/json');
This tells the server:
‚Ä¢	The format you are sending/requesting is JSON.
‚Ä¢	Although GET does not send a body, setting the header is still OK.
________________________________________
‚≠ê 4. Set HTTP Method
httpReq.setMethod('GET');
This means:
‚Ä¢	You want to retrieve data.
‚Ä¢	You are not sending anything to the server.
________________________________________
‚≠ê 5. Send the Request
Http http = new Http();
HttpResponse httpRes = http.send(httpReq);
‚Ä¢	Http class sends the prepared request.
‚Ä¢	HttpResponse stores whatever comes back from the API.
________________________________________
‚≠ê 6. Read the Response
String body = httpRes.getBody();
String status = httpRes.getStatus();
Integer statusCode = httpRes.getStatusCode();
üîç What each means
‚Ä¢	body ‚Üí JSON response from the API
‚Ä¢	status ‚Üí string message (e.g., "OK")
‚Ä¢	statusCode ‚Üí HTTP code (e.g., 200, 404, 500)
________________________________________
‚≠ê 7. Debug Logging
System.debug('Currency API body = '+body);
System.debug('Currency API Status => '+status);
System.debug('Currecny API Stauts code  => '+statusCode);
This prints response values in debug logs.
________________________________________
‚≠ê 8. Exception Handling
üî∏ Callout exceptions (timeout, bad endpoint, no internet, etc.)
catch(System.CalloutException cex)
{
    if(String.valueOf(cex).startsWith('System.CalloutException'))
        System.debug('CalloutException : '+cex.getMessage());
}
üî∏ Any other exception
catch(Exception e)
{
    System.debug(e.getStackTraceString());
}
This ensures your code doesn‚Äôt break and logs the error.

